–§–µ–æ–¥–æ—Ä –ú–∞—Å–ª–æ–≤, [05.02.2025 13:26]
–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ —ç—Ç–∏–º —Ç—Ä–µ–º –∑–∞–¥–∞–Ω–∏—è–º,  —Å–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∏—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–µ–º—É –ø–æ—Ç–æ–∫–æ–≤ (coroutines, Flow), –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ. –ù–∞ –º–æ–π –≤–∑–≥–ª—è–¥ —Ç–µ–º–∞ –æ—á–µ–Ω—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è, –≤–∞–∂–Ω–∞—è, –Ω–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–∞—è. –û–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–π –∏–∑ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ–º –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏. 

–ó–∞–¥–∞–Ω–∏–µ 1: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏ –∏ –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–µ
–ó–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∏ –≤—ã–≤–æ–¥—è—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ TextView –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

–®–∞–≥–∏:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Scope –∏ –±–∏–ª–¥–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∫–æ—Ä—É—Ç–∏–Ω.
–°—ã–º–∏—Ç–∏—Ä—É–π—Ç–µ –∑–∞–¥–µ—Ä–∂–∫—É —Ä–∞–±–æ—Ç—ã –ø–µ—Ä–µ–¥ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.
–û–±—ä–µ–¥–∏–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–≤—É—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –≤—ã–≤–µ–¥–∏—Ç–µ –≤ TextView.

–ó–∞–¥–∞–Ω–∏–µ 2: –§—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–æ–∫–æ–≤ (Flow)
–ó–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Ç–æ–∫ —á–∏—Å–µ–ª, –∫–æ—Ç–æ—Ä—ã–π —ç–º–∏—Ç–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –æ—Ç 1 –¥–æ 5 —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Ö –≤ collect().

–®–∞–≥–∏:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Flow<Int> –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
–ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É —ç–º–∏—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
–û—Ç–æ–±—Ä–∞–∂–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ TextView.

–ó–∞–¥–∞–Ω–∏–µ 3: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤
–ó–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —ç–º–∏—Ç–∏—Ä—É—é—Ç —á–∏—Å–ª–∞ –∏ —Å—Ç—Ä–æ–∫–∏. –û–±—ä–µ–¥–∏–Ω–∏—Ç–µ –∏—Ö —Å –ø–æ–º–æ—â—å—é combine() –∏ –≤—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ TextView.

–®–∞–≥–∏:
–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ –ø–æ—Ç–æ–∫–∞:
Flow<Int> (—ç–º–∏—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞).
Flow<String> (—ç–º–∏—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫–∏).
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ combine(), —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–æ—Ç–æ–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π.
–í—ã–≤–µ–¥–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ TextView.

‚Äî‚Äî‚Äî‚Äî
–£—Ç–æ—á–Ω—é:
üìå–°–Ω–∞—á–∞–ª–∞ –∏–∑—É—á–∏—Ç–µ –æ—Å–Ω–æ–≤—ã –∫–æ—Ä—É—Ç–∏–Ω (async, launch), –∑–∞—Ç–µ–º Flow, –ø–æ—Å–ª–µ —á–µ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –µ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—é –ø–æ—Ç–æ–∫–æ–≤.
üìå –ü–æ–Ω–∏–º–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤ —Ä–∞–±–æ—Ç–µ —Å —Å–µ—Ç–µ–≤—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏, –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

–§–µ–æ–¥–æ—Ä –ú–∞—Å–ª–æ–≤, [05.02.2025 13:40]
–¢–∞–∫ –∫–∞–∫ —Ç–µ–º–∞ –Ω–µ–ø—Ä–æ—Å—Ç–∞—è, –≤–æ—Ç –µ—â—ë –¥–æ–ø. –∑–∞–¥–∞—á–∏:
1Ô∏è‚É£ –ó–∞–¥–∞—á–∞: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ Flow
–ó–∞–¥–∞–Ω–∏–µ:
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —ç–º–∏—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 10, –Ω–æ –≤ collect() –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ç–Ω—ã–µ —á–∏—Å–ª–∞.

2Ô∏è‚É£ –ó–∞–¥–∞—á–∞: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞
–ó–∞–¥–∞–Ω–∏–µ:
–°–æ–∑–¥–∞–π—Ç–µ Flow<String>, –∫–æ—Ç–æ—Ä—ã–π —ç–º–∏—Ç–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–º–µ–Ω. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∏–º–µ–Ω–∏ –≤ –∑–∞–≥–ª–∞–≤–Ω—ã–µ –±—É–∫–≤—ã –ø–µ—Ä–µ–¥ –≤—ã–≤–æ–¥–æ–º.

3Ô∏è‚É£ –ó–∞–¥–∞—á–∞: –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è
–ó–∞–¥–∞–Ω–∏–µ:
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ—Ç–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π –≤ 1 —Å–µ–∫—É–Ω–¥—É, –Ω–æ –≤ collect() –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±—ã—Å—Ç—Ä–µ–µ (500 –º—Å).

4Ô∏è‚É£ –ó–∞–¥–∞—á–∞: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –ø–æ—Ç–æ–∫–æ–≤
–ó–∞–¥–∞–Ω–∏–µ:
–°–æ–∑–¥–∞–π—Ç–µ –¥–≤–∞ Flow:

–ü–µ—Ä–≤—ã–π –ø–æ—Ç–æ–∫ —ç–º–∏—Ç–∏—Ä—É–µ—Ç —á–∏—Å–ª–∞ 1, 2, 3 —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 1 —Å–µ–∫
–í—Ç–æ—Ä–æ–π –ø–æ—Ç–æ–∫ —ç–º–∏—Ç–∏—Ä—É–µ—Ç –±—É–∫–≤—ã A, B, C —Å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 1.5 —Å–µ–∫
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä, —á—Ç–æ–±—ã –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø–æ—Ç–æ–∫–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä—ã (—á–∏—Å–ª–æ + –±—É–∫–≤–∞).

‚Äî‚Äî‚Äî‚Äî‚Äî


–í–æ–ø—Ä–æ—Å—ã –ø–æ Flow:
–ß–µ–º Flow –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç LiveData?
–ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ –≤ Flow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å collect() –¥–≤–∞–∂–¥—ã?
–ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ Flow?
–í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É buffer(), conflate() –∏ collectLatest()?
–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å Dispatchers –¥–ª—è Flow?

–§–µ–æ–¥–æ—Ä –ú–∞—Å–ª–æ–≤, [05.02.2025 14:42]
1Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∫–æ—Ä—É—Ç–∏–Ω—ã
–ó–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É, –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –≤ TextView —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –ø–æ—è–≤–∏—Ç—Å—è —Ç–µ–∫—Å—Ç "Hello, Coroutines!".
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ launch {} –∏ delay

2Ô∏è‚É£ –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ—Ä—É—Ç–∏–Ω (launch vs async)
–ó–∞–¥–∞—á–∞:
–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–≤–µ –∫–æ—Ä—É—Ç–∏–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –æ–¥–Ω–∞ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è 1 —Å–µ–∫—É–Ω–¥—É, –∞ –≤—Ç–æ—Ä–∞—è 2 —Å–µ–∫—É–Ω–¥—ã.
–ü–æ—Å–ª–µ –∏—Ö –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±–Ω–æ–≤–∏—Ç–µ TextView –∏ –ø–æ–∫–∞–∂–∏—Ç–µ "–û–±–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã!".

–ü–æ–¥—Å–∫–∞–∑–∫–∞:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ async {} –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ await() –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

3Ô∏è‚É£ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ 
–ó–∞–¥–∞—á–∞:
–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ (IO) –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç UI (Main).
–°—ã–º–∏—Ç–∏—Ä—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å delay(2000).

–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ withContext

4Ô∏è‚É£ –û—Ç–º–µ–Ω–∞ –∫–æ—Ä—É—Ç–∏–Ω—ã
–ó–∞–¥–∞—á–∞:
–°–æ–∑–¥–∞–π—Ç–µ –∫–Ω–æ–ø–∫—É "–°—Ç–∞—Ä—Ç" –∏ –∫–Ω–æ–ø–∫—É "–°—Ç–æ–ø".

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°—Ç–∞—Ä—Ç" –∫–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç Flow (—á–∏—Å–ª–∞ –æ—Ç 1 –¥–æ 100).
–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°—Ç–æ–ø" –∫–æ—Ä—É—Ç–∏–Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –ø–æ—Ç–æ–∫ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è.

5Ô∏è‚É£  –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ Flow
–ó–∞–¥–∞—á–∞:
–ù–∞–ø–∏—à–∏—Ç–µ Flow, –∫–æ—Ç–æ—Ä—ã–π –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã —ç–º–∏—Ç–∏—Ä—É–µ—Ç "OK", –Ω–æ –Ω–∞ —Ç—Ä–µ—Ç—å–µ–º —à–∞–≥–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É (throw Exception("–û—à–∏–±–∫–∞!")).
–û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫—É —Å catch {} –∏ –≤–º–µ—Å—Ç–æ –ø–∞–¥–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤—ã–≤–µ–¥–∏—Ç–µ "–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞" –≤ TextView.

‚Äî‚Äî‚Äî‚Äî
–í–æ–ø—Ä–æ—Å—ã –ø–æ –∫–æ—Ä—É—Ç–∏–Ω–∞–º:
1Ô∏è‚É£ –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É launch {} –∏ async {}? –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å await()?
2Ô∏è‚É£ –ß–µ–º Dispatchers.IO –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç Dispatchers.Default?
3Ô∏è‚É£ –ö–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å –∫–æ—Ä—É—Ç–∏–Ω—É, –µ—Å–ª–∏ –æ–Ω–∞ –∑–∞–≤–∏—Å–ª–∞?
4Ô∏è‚É£ –ß—Ç–æ –¥–µ–ª–∞–µ—Ç supervisorScope {} –∏ –∫–∞–∫ –æ–Ω –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç coroutineScope {}?
5Ô∏è‚É£ –ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GlobalScope –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö?
